<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@sylph/core | Documentation</title><meta name="description" content="Documentation for Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">Documentation</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">@sylph/core</a></li></ul><h1>Module @sylph/core</h1></div><section class="tsd-panel tsd-typography"><h1 id="sylphcore" class="tsd-anchor-link">@sylph/core<a href="#sylphcore" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Core package for the zen state management library. Tiny, fast, and functional reactive state management.</p>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@sylph/core</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@sylph/core</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@sylph/core</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">bun</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@sylph/core</span>
</code><button type="button">Copy</button></pre>

<h2 id="basic-usage" class="tsd-anchor-link">Basic Usage<a href="#basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">atom</span><span class="hl-1">, </span><span class="hl-5">computed</span><span class="hl-1">, </span><span class="hl-5">subscribe</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Create a writable atom state</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">count</span><span class="hl-1"> = </span><span class="hl-0">atom</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Create a computed state derived from other atoms</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">double</span><span class="hl-1"> = </span><span class="hl-0">computed</span><span class="hl-1">(</span><span class="hl-5">count</span><span class="hl-1">, (</span><span class="hl-5">value</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-1"> * </span><span class="hl-8">2</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Subscribe to changes</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubscribe</span><span class="hl-1"> = </span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">double</span><span class="hl-1">, (</span><span class="hl-5">value</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Double count is now:&#39;</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Update the base atom</span><br/><span class="hl-5">count</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">); </span><span class="hl-3">// Logs: Double count is now: 2</span><br/><span class="hl-5">count</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">); </span><span class="hl-3">// Logs: Double count is now: 10</span><br/><br/><span class="hl-3">// Unsubscribe when no longer needed</span><br/><span class="hl-0">unsubscribe</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="more-examples" class="tsd-anchor-link">More Examples<a href="#more-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="map-example" class="tsd-anchor-link"><code>map</code> Example<a href="#map-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">map</span><span class="hl-1">, </span><span class="hl-5">setKey</span><span class="hl-1">, </span><span class="hl-5">listenKeys</span><span class="hl-1">, </span><span class="hl-5">get</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1"> = </span><span class="hl-0">map</span><span class="hl-1">({ </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Anon&#39;</span><span class="hl-1">, </span><span class="hl-5">age:</span><span class="hl-1"> </span><span class="hl-8">99</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubscribeKey</span><span class="hl-1"> = </span><span class="hl-0">listenKeys</span><span class="hl-1">(</span><span class="hl-5">user</span><span class="hl-1">, [</span><span class="hl-2">&#39;name&#39;</span><span class="hl-1">], (</span><span class="hl-5">value</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;User name changed:&#39;</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">.</span><span class="hl-5">name</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Initial name:&#39;</span><span class="hl-1">, </span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-5">user</span><span class="hl-1">).</span><span class="hl-5">name</span><span class="hl-1">); </span><span class="hl-3">// Logs: Initial name: Anon</span><br/><br/><span class="hl-0">setKey</span><span class="hl-1">(</span><span class="hl-5">user</span><span class="hl-1">, </span><span class="hl-2">&#39;name&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Sylph&#39;</span><span class="hl-1">); </span><span class="hl-3">// Logs: User name changed: Sylph</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Updated name:&#39;</span><span class="hl-1">, </span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-5">user</span><span class="hl-1">).</span><span class="hl-5">name</span><span class="hl-1">); </span><span class="hl-3">// Logs: Updated name: Sylph</span><br/><br/><span class="hl-0">unsubscribeKey</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="deepmap-example" class="tsd-anchor-link"><code>deepMap</code> Example<a href="#deepmap-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">deepMap</span><span class="hl-1">, </span><span class="hl-5">setPath</span><span class="hl-1">, </span><span class="hl-5">get</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">settings</span><span class="hl-1"> = </span><span class="hl-0">deepMap</span><span class="hl-1">({ </span><span class="hl-5">user:</span><span class="hl-1"> { </span><span class="hl-5">theme:</span><span class="hl-1"> </span><span class="hl-2">&#39;dark&#39;</span><span class="hl-1">, </span><span class="hl-5">notifications:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1"> } });</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Initial theme:&#39;</span><span class="hl-1">, </span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-5">settings</span><span class="hl-1">).</span><span class="hl-5">user</span><span class="hl-1">.</span><span class="hl-5">theme</span><span class="hl-1">); </span><span class="hl-3">// Logs: Initial theme: dark</span><br/><br/><span class="hl-3">// Update a nested property</span><br/><span class="hl-0">setPath</span><span class="hl-1">(</span><span class="hl-5">settings</span><span class="hl-1">, [</span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;theme&#39;</span><span class="hl-1">], </span><span class="hl-2">&#39;light&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Updated theme:&#39;</span><span class="hl-1">, </span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-5">settings</span><span class="hl-1">).</span><span class="hl-5">user</span><span class="hl-1">.</span><span class="hl-5">theme</span><span class="hl-1">); </span><span class="hl-3">// Logs: Updated theme: light</span>
</code><button type="button">Copy</button></pre>

<h3 id="task-example" class="tsd-anchor-link"><code>task</code> Example<a href="#task-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">task</span><span class="hl-1">, </span><span class="hl-5">subscribe</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">fetchData</span><span class="hl-1"> = </span><span class="hl-0">task</span><span class="hl-1">(</span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">id</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// Simulate API call</span><br/><span class="hl-1">  </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">(</span><span class="hl-5">resolve</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-0">setTimeout</span><span class="hl-1">(</span><span class="hl-5">resolve</span><span class="hl-1">, </span><span class="hl-8">50</span><span class="hl-1">));</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">id</span><span class="hl-1"> &lt; </span><span class="hl-8">0</span><span class="hl-1">) </span><span class="hl-4">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid ID&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> { </span><span class="hl-5">data:</span><span class="hl-1"> </span><span class="hl-2">`User data for </span><span class="hl-6">${</span><span class="hl-5">id</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1"> };</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubscribeTask</span><span class="hl-1"> = </span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">fetchData</span><span class="hl-1">, (</span><span class="hl-5">state</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">state</span><span class="hl-1">.</span><span class="hl-5">loading</span><span class="hl-1">) </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Task loading...&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">state</span><span class="hl-1">.</span><span class="hl-5">error</span><span class="hl-1">) </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Task error:&#39;</span><span class="hl-1">, </span><span class="hl-5">state</span><span class="hl-1">.</span><span class="hl-5">error</span><span class="hl-1">.</span><span class="hl-5">message</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">state</span><span class="hl-1">.</span><span class="hl-5">data</span><span class="hl-1">) </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Task success:&#39;</span><span class="hl-1">, </span><span class="hl-5">state</span><span class="hl-1">.</span><span class="hl-5">data</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">fetchData</span><span class="hl-1">.</span><span class="hl-0">run</span><span class="hl-1">(</span><span class="hl-8">123</span><span class="hl-1">); </span><span class="hl-3">// Logs: Task loading... -&gt; Task success: { data: &#39;User data for 123&#39; }</span><br/><span class="hl-3">// fetchData.run(-1); // Would log: Task loading... -&gt; Task error: Invalid ID</span><br/><br/><span class="hl-3">// unsubscribeTask(); // Usually called on component unmount</span>
</code><button type="button">Copy</button></pre>

<h3 id="batch-example" class="tsd-anchor-link"><code>batch</code> Example<a href="#batch-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">atom</span><span class="hl-1">, </span><span class="hl-5">batch</span><span class="hl-1">, </span><span class="hl-5">subscribe</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">firstName</span><span class="hl-1"> = </span><span class="hl-0">atom</span><span class="hl-1">(</span><span class="hl-2">&#39;John&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">lastName</span><span class="hl-1"> = </span><span class="hl-0">atom</span><span class="hl-1">(</span><span class="hl-2">&#39;Doe&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">fullName</span><span class="hl-1"> = </span><span class="hl-0">computed</span><span class="hl-1">([</span><span class="hl-5">firstName</span><span class="hl-1">, </span><span class="hl-5">lastName</span><span class="hl-1">], (</span><span class="hl-5">f</span><span class="hl-1">, </span><span class="hl-5">l</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-2">`</span><span class="hl-6">${</span><span class="hl-5">f</span><span class="hl-6">}</span><span class="hl-2"> </span><span class="hl-6">${</span><span class="hl-5">l</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubscribeBatch</span><span class="hl-1"> = </span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">fullName</span><span class="hl-1">, (</span><span class="hl-5">value</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// This listener will only run ONCE after the batch</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Full name updated:&#39;</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">batch</span><span class="hl-1">(() </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">firstName</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;Jane&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">lastName</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;Smith&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">// fullName listener is not triggered here yet</span><br/><span class="hl-1">}); </span><span class="hl-3">// Logs: Full name updated: Jane Smith</span><br/><br/><span class="hl-0">unsubscribeBatch</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="lifecycle-example-onmountonstop" class="tsd-anchor-link">Lifecycle Example (<code>onMount</code>/<code>onStop</code>)<a href="#lifecycle-example-onmountonstop" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">atom</span><span class="hl-1">, </span><span class="hl-5">onMount</span><span class="hl-1">, </span><span class="hl-5">onStop</span><span class="hl-1">, </span><span class="hl-5">subscribe</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">timerAtom</span><span class="hl-1"> = </span><span class="hl-0">atom</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">);</span><br/><br/><span class="hl-0">onMount</span><span class="hl-1">(</span><span class="hl-5">timerAtom</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Timer atom mounted (first subscriber added)&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">intervalId</span><span class="hl-1"> = </span><span class="hl-0">setInterval</span><span class="hl-1">(() </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">timerAtom</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-5">timerAtom</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">() + </span><span class="hl-8">1</span><span class="hl-1">);</span><br/><span class="hl-1">  }, </span><span class="hl-8">1000</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Return a cleanup function for onStop</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Timer atom stopped (last subscriber removed)&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">clearInterval</span><span class="hl-1">(</span><span class="hl-5">intervalId</span><span class="hl-1">);</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Subscribing...&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubTimer</span><span class="hl-1"> = </span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">timerAtom</span><span class="hl-1">, (</span><span class="hl-5">value</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Timer:&#39;</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-3">// Logs: Subscribing... -&gt; Timer atom mounted... -&gt; Timer: 0 -&gt; Timer: 1 ...</span><br/><br/><span class="hl-3">// setTimeout(() =&gt; {</span><br/><span class="hl-3">//   console.log(&#39;Unsubscribing...&#39;);</span><br/><span class="hl-3">//   unsubTimer(); // Logs: Unsubscribing... -&gt; Timer atom stopped...</span><br/><span class="hl-3">// }, 3500);</span>
</code><button type="button">Copy</button></pre>

<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Tiny size (~3kB gzipped)</li>
<li>Excellent performance</li>
<li>Functional API (<code>atom</code>, <code>computed</code>, <code>map</code>, <code>deepMap</code>, <code>task</code>, <code>batch</code>)</li>
<li>Lifecycle events (<code>onMount</code>, <code>onSet</code>, <code>onNotify</code>, <code>onStop</code>)</li>
<li>Explicit batching</li>
</ul>
<p>(More documentation to come)</p>
</section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#sylphcore"><span>@sylph/core</span></a><ul><li><a href="#installation"><span>Installation</span></a></li><li><a href="#basic-usage"><span>Basic <wbr/>Usage</span></a></li><li><a href="#more-examples"><span>More <wbr/>Examples</span></a></li><li><ul><li><a href="#map-example"><span>map <wbr/>Example</span></a></li><li><a href="#deepmap-example"><span>deep<wbr/>Map <wbr/>Example</span></a></li><li><a href="#task-example"><span>task <wbr/>Example</span></a></li><li><a href="#batch-example"><span>batch <wbr/>Example</span></a></li><li><a href="#lifecycle-example-onmountonstop"><span>Lifecycle <wbr/>Example (on<wbr/>Mount/on<wbr/>Stop)</span></a></li></ul></li><li><a href="#features"><span>Features</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">Documentation</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
