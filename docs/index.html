<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Documentation</title><meta name="description" content="Documentation for Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Documentation</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Documentation</h1></div><div class="tsd-panel tsd-typography"><h1 id="sylphzen-extreme-minimalism-extreme-speed-🚀" class="tsd-anchor-link">@sylph/zen: Extreme Minimalism, Extreme Speed 🚀<a href="#sylphzen-extreme-minimalism-extreme-speed-🚀" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://badge.fury.io/js/@sylph/zen"><img src="https://badge.fury.io/js/@sylph/zen.svg" alt="npm version"></a> <!-- Placeholder: Update link if package name differs -->
<a href="https://bundlephobia.com/package/@sylph/zen"><img src="https://img.shields.io/bundlephobia/minzip/@sylph/zen" alt="bundle size"></a> <!-- Placeholder: Update link if package name differs -->
<a href="https://github.com/your-repo/zen/actions/workflows/test.yml"><img src="https://github.com/your-repo/zen/actions/workflows/test.yml/badge.svg" alt="Tests"></a> <!-- Placeholder: Update link --></p>
<p><strong>Embrace simplicity. Achieve speed. Meet Zen – the state management library designed around extreme minimalism for unparalleled performance and efficiency.</strong></p>
<p>Zen delivers <strong>extreme speed</strong> <em>because</em> of its minimalist core, consistently outperforming popular alternatives like Zustand, Jotai, Nanostores, Valtio, and Effector in crucial benchmarks. All this, while maintaining a <strong>tiny footprint (1.45 kB full library)</strong> and providing essential features through a clean, intuitive API.</p>
<hr>
<h2 id="why-zen-🤔" class="tsd-anchor-link">Why Zen? 🤔<a href="#why-zen-🤔" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Modern web applications demand state management that is fast, lightweight, and easy to reason about. Existing solutions often introduce complexity and overhead, forcing a trade-off: gain features but sacrifice performance and simplicity, or stay small but lack essential capabilities.</p>
<p><strong>Zen rejects this compromise. Our philosophy: extreme speed <em>through</em> extreme minimalism.</strong></p>
<p>By focusing relentlessly on a highly optimized, simple core and only the essential features, Zen avoids unnecessary abstractions and overhead. We meticulously optimized every function, achieving unparalleled speed <em>because</em> of this focused, minimalist design.</p>
<p><strong>Zen solves:</strong></p>
<ul>
<li><strong>Performance Bottlenecks:</strong> Drastically reduces overhead for state updates and reads via its minimal core.</li>
<li><strong>Bundle Bloat:</strong> Keeps your application lean and fast-loading with its tiny size.</li>
<li><strong>Complexity Overload:</strong> Provides a straightforward, predictable API that's easy to learn and use.</li>
<li><strong>Over-Engineering:</strong> Delivers only the essential tools you need, cutting out unnecessary complexity.</li>
</ul>
<hr>
<h2 id="key-features-✨" class="tsd-anchor-link">Key Features ✨<a href="#key-features-✨" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>🤏 <strong>Extreme Minimalism:</strong> Simple, intuitive API focused on the fundamentals.</li>
<li>🚀 <strong>Extreme Performance:</strong> Hyper-optimized core delivers benchmark-leading speed (see below).</li>
<li>⚛️ <strong>Core Primitives:</strong> <code>atom</code> for basic state, <code>computed</code> for derived values.</li>
<li>🗺️ <strong>Object Helpers:</strong> <code>map</code> for shallow object state, <code>deepMap</code> for nested objects/arrays with efficient path updates/listeners.</li>
<li>⚡ <strong>Async Handling:</strong> <code>task</code> atom for managing async operation states (loading, error, data).</li>
<li>👂 <strong>Lifecycle Events:</strong> Optional hooks (<code>onMount</code>, <code>onStart</code>, <code>onStop</code>, <code>onSet</code>, <code>onNotify</code>) for fine-grained control when needed.</li>
<li>🎯 <strong>Granular Subscriptions:</strong> Efficiently listen to specific <code>keys</code> in <code>map</code> or deep <code>paths</code> in <code>deepMap</code>.</li>
<li>📏 <strong>Tiny Size:</strong> Just <strong>1.45 kB</strong> (brotli + gzip) for the full library.</li>
</ul>
<hr>
<h2 id="installation-📦" class="tsd-anchor-link">Installation 📦<a href="#installation-📦" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@sylph/zen</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@sylph/zen</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@sylph/zen</span>
</code><button type="button">Copy</button></pre>

<hr>
<h2 id="core-usage-🧑💻" class="tsd-anchor-link">Core Usage 🧑‍💻<a href="#core-usage-🧑💻" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="atom" class="tsd-anchor-link"><code>atom</code><a href="#atom" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The fundamental building block for reactive state.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">atom</span><span class="hl-1">, </span><span class="hl-5">get</span><span class="hl-1">, </span><span class="hl-5">set</span><span class="hl-1">, </span><span class="hl-5">subscribe</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/zen&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">counter</span><span class="hl-1"> = </span><span class="hl-0">atom</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubscribe</span><span class="hl-1"> = </span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">counter</span><span class="hl-1">, (</span><span class="hl-5">value</span><span class="hl-1">, </span><span class="hl-5">oldValue</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Counter changed from </span><span class="hl-6">${</span><span class="hl-5">oldValue</span><span class="hl-6">}</span><span class="hl-2"> to </span><span class="hl-6">${</span><span class="hl-5">value</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-3">// Output: Counter changed from undefined to 0 (Initial call)</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-5">counter</span><span class="hl-1">)); </span><span class="hl-3">// Output: 0</span><br/><br/><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-5">counter</span><span class="hl-1">, </span><span class="hl-8">1</span><span class="hl-1">); </span><span class="hl-3">// Output: Counter changed from 0 to 1</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-5">counter</span><span class="hl-1">)); </span><span class="hl-3">// Output: 1</span><br/><br/><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-5">counter</span><span class="hl-1">, </span><span class="hl-8">1</span><span class="hl-1">); </span><span class="hl-3">// No output, value didn&#39;t change</span><br/><br/><span class="hl-0">unsubscribe</span><span class="hl-1">();</span><br/><br/><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-5">counter</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">); </span><span class="hl-3">// No output, unsubscribed</span>
</code><button type="button">Copy</button></pre>

<h3 id="computed" class="tsd-anchor-link"><code>computed</code><a href="#computed" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create derived state based on one or more atoms.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">atom</span><span class="hl-1">, </span><span class="hl-5">computed</span><span class="hl-1">, </span><span class="hl-5">get</span><span class="hl-1">, </span><span class="hl-5">set</span><span class="hl-1">, </span><span class="hl-5">subscribe</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/zen&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">count</span><span class="hl-1"> = </span><span class="hl-0">atom</span><span class="hl-1">(</span><span class="hl-8">10</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">message</span><span class="hl-1"> = </span><span class="hl-0">atom</span><span class="hl-1">(</span><span class="hl-2">&#39; apples&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Computed value based on count</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">double</span><span class="hl-1"> = </span><span class="hl-0">computed</span><span class="hl-1">([</span><span class="hl-5">count</span><span class="hl-1">], (</span><span class="hl-5">value</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-1"> * </span><span class="hl-8">2</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Computed value based on multiple atoms</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">fullMessage</span><span class="hl-1"> = </span><span class="hl-0">computed</span><span class="hl-1">([</span><span class="hl-5">count</span><span class="hl-1">, </span><span class="hl-5">message</span><span class="hl-1">], (</span><span class="hl-5">num</span><span class="hl-1">, </span><span class="hl-5">msg</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-2">`</span><span class="hl-6">${</span><span class="hl-5">num</span><span class="hl-6">}${</span><span class="hl-5">msg</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubDouble</span><span class="hl-1"> = </span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">double</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Double:&#39;</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">));</span><br/><span class="hl-3">// Output: Double: 20 (Initial call)</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubMsg</span><span class="hl-1"> = </span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">fullMessage</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Message:&#39;</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">));</span><br/><span class="hl-3">// Output: Message: 10 apples (Initial call)</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-5">double</span><span class="hl-1">)); </span><span class="hl-3">// Output: 20</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-5">fullMessage</span><span class="hl-1">)); </span><span class="hl-3">// Output: 10 apples</span><br/><br/><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-5">count</span><span class="hl-1">, </span><span class="hl-8">15</span><span class="hl-1">);</span><br/><span class="hl-3">// Output: Double: 30</span><br/><span class="hl-3">// Output: Message: 15 apples</span><br/><br/><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-5">message</span><span class="hl-1">, </span><span class="hl-2">&#39; oranges&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">// Output: Message: 15 oranges</span><br/><span class="hl-3">// (Double listener not called as &#39;double&#39; didn&#39;t change)</span><br/><br/><span class="hl-0">unsubDouble</span><span class="hl-1">();</span><br/><span class="hl-0">unsubMsg</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="map" class="tsd-anchor-link"><code>map</code><a href="#map" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Optimized for object state where you often update/listen to individual keys.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">map</span><span class="hl-1">, </span><span class="hl-5">get</span><span class="hl-1">, </span><span class="hl-5">subscribe</span><span class="hl-1">, </span><span class="hl-5">setMapKey</span><span class="hl-1">, </span><span class="hl-5">setMapValue</span><span class="hl-1">, </span><span class="hl-5">listenMapKeys</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/zen&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">profile</span><span class="hl-1"> = </span><span class="hl-0">map</span><span class="hl-1">({ </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;John&#39;</span><span class="hl-1">, </span><span class="hl-5">age:</span><span class="hl-1"> </span><span class="hl-8">30</span><span class="hl-1">, </span><span class="hl-5">city:</span><span class="hl-1"> </span><span class="hl-2">&#39;New York&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsub</span><span class="hl-1"> = </span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">profile</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Profile updated:&#39;</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">));</span><br/><span class="hl-3">// Output: Profile updated: { name: &#39;John&#39;, age: 30, city: &#39;New York&#39; } (Initial call)</span><br/><br/><span class="hl-3">// Listen to specific key changes</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubAge</span><span class="hl-1"> = </span><span class="hl-0">listenMapKeys</span><span class="hl-1">(</span><span class="hl-5">profile</span><span class="hl-1">, [</span><span class="hl-2">&#39;age&#39;</span><span class="hl-1">], (</span><span class="hl-5">value</span><span class="hl-1">, </span><span class="hl-5">key</span><span class="hl-1">, </span><span class="hl-5">fullObject</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Key &#39;</span><span class="hl-6">${</span><span class="hl-5">key</span><span class="hl-6">}</span><span class="hl-2">&#39; changed to: </span><span class="hl-6">${</span><span class="hl-5">value</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">setMapKey</span><span class="hl-1">(</span><span class="hl-5">profile</span><span class="hl-1">, </span><span class="hl-2">&#39;age&#39;</span><span class="hl-1">, </span><span class="hl-8">31</span><span class="hl-1">);</span><br/><span class="hl-3">// Output: Key &#39;age&#39; changed to: 31</span><br/><span class="hl-3">// Output: Profile updated: { name: &#39;John&#39;, age: 31, city: &#39;New York&#39; }</span><br/><br/><span class="hl-0">setMapKey</span><span class="hl-1">(</span><span class="hl-5">profile</span><span class="hl-1">, </span><span class="hl-2">&#39;name&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Jane&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">// Output: Profile updated: { name: &#39;Jane&#39;, age: 31, city: &#39;New York&#39; }</span><br/><span class="hl-3">// (Age listener not called)</span><br/><br/><span class="hl-0">setMapValue</span><span class="hl-1">(</span><span class="hl-5">profile</span><span class="hl-1">, { </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Peter&#39;</span><span class="hl-1">, </span><span class="hl-5">age:</span><span class="hl-1"> </span><span class="hl-8">40</span><span class="hl-1">, </span><span class="hl-5">city:</span><span class="hl-1"> </span><span class="hl-2">&#39;London&#39;</span><span class="hl-1"> }); </span><span class="hl-3">// Update whole object</span><br/><span class="hl-3">// Output: Key &#39;age&#39; changed to: 40</span><br/><span class="hl-3">// Output: Profile updated: { name: &#39;Peter&#39;, age: 40, city: &#39;London&#39; }</span><br/><br/><span class="hl-0">unsub</span><span class="hl-1">();</span><br/><span class="hl-0">unsubAge</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="deepmap" class="tsd-anchor-link"><code>deepMap</code><a href="#deepmap" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Efficiently manage and subscribe to changes within nested objects/arrays.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">deepMap</span><span class="hl-1">, </span><span class="hl-5">get</span><span class="hl-1">, </span><span class="hl-5">subscribe</span><span class="hl-1">, </span><span class="hl-5">setDeepMapPath</span><span class="hl-1">, </span><span class="hl-5">setDeepMapValue</span><span class="hl-1">, </span><span class="hl-5">listenDeepMapPaths</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/zen&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">settings</span><span class="hl-1"> = </span><span class="hl-0">deepMap</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">user:</span><span class="hl-1"> { </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Anon&#39;</span><span class="hl-1">, </span><span class="hl-5">preferences:</span><span class="hl-1"> { </span><span class="hl-5">theme:</span><span class="hl-1"> </span><span class="hl-2">&#39;light&#39;</span><span class="hl-1">, </span><span class="hl-5">notifications:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1"> } },</span><br/><span class="hl-1">  </span><span class="hl-5">data:</span><span class="hl-1"> [</span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-8">20</span><span class="hl-1">, </span><span class="hl-8">30</span><span class="hl-1">]</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsub</span><span class="hl-1"> = </span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">settings</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Settings updated:&#39;</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">));</span><br/><span class="hl-3">// Output: Settings updated: { user: { name: &#39;Anon&#39;, preferences: { theme: &#39;light&#39;, notifications: true } }, data: [ 10, 20, 30 ] } (Initial call)</span><br/><br/><span class="hl-3">// Listen to a deep path</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubTheme</span><span class="hl-1"> = </span><span class="hl-0">listenDeepMapPaths</span><span class="hl-1">(</span><span class="hl-5">settings</span><span class="hl-1">, [[</span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;preferences&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;theme&#39;</span><span class="hl-1">]], (</span><span class="hl-5">value</span><span class="hl-1">, </span><span class="hl-5">path</span><span class="hl-1">, </span><span class="hl-5">fullObject</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// Note: path received might be string or array depending on how it was registered/changed</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Path &#39;</span><span class="hl-6">${</span><span class="hl-5">Array</span><span class="hl-9">.</span><span class="hl-0">isArray</span><span class="hl-9">(</span><span class="hl-5">path</span><span class="hl-9">) </span><span class="hl-1">?</span><span class="hl-9"> </span><span class="hl-5">path</span><span class="hl-9">.</span><span class="hl-0">join</span><span class="hl-9">(</span><span class="hl-2">&#39;.&#39;</span><span class="hl-9">) </span><span class="hl-1">:</span><span class="hl-9"> </span><span class="hl-5">path</span><span class="hl-6">}</span><span class="hl-2">&#39; changed to: </span><span class="hl-6">${</span><span class="hl-5">value</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Listen to an array element path</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubData</span><span class="hl-1"> = </span><span class="hl-0">listenDeepMapPaths</span><span class="hl-1">(</span><span class="hl-5">settings</span><span class="hl-1">, [[</span><span class="hl-2">&#39;data&#39;</span><span class="hl-1">, </span><span class="hl-8">1</span><span class="hl-1">]], (</span><span class="hl-5">value</span><span class="hl-1">, </span><span class="hl-5">path</span><span class="hl-1">, </span><span class="hl-5">fullObject</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Path &#39;data[1]&#39; changed to: </span><span class="hl-6">${</span><span class="hl-5">value</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Update deep value using string path</span><br/><span class="hl-0">setDeepMapPath</span><span class="hl-1">(</span><span class="hl-5">settings</span><span class="hl-1">, </span><span class="hl-2">&#39;user.preferences.theme&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;dark&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">// Output: Path &#39;user.preferences.theme&#39; changed to: dark</span><br/><span class="hl-3">// Output: Settings updated: { user: {..., preferences: { theme: &#39;dark&#39;, ... }}, ... }</span><br/><br/><span class="hl-3">// Update deep value using array path</span><br/><span class="hl-0">setDeepMapPath</span><span class="hl-1">(</span><span class="hl-5">settings</span><span class="hl-1">, [</span><span class="hl-2">&#39;data&#39;</span><span class="hl-1">, </span><span class="hl-8">1</span><span class="hl-1">], </span><span class="hl-8">25</span><span class="hl-1">);</span><br/><span class="hl-3">// Output: Path &#39;data[1]&#39; changed to: 25</span><br/><span class="hl-3">// Output: Settings updated: { ..., data: [10, 25, 30] }</span><br/><br/><span class="hl-3">// Update unrelated path</span><br/><span class="hl-0">setDeepMapPath</span><span class="hl-1">(</span><span class="hl-5">settings</span><span class="hl-1">, </span><span class="hl-2">&#39;user.name&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Alice&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">// Output: Settings updated: { user: { name: &#39;Alice&#39;, ...}, ... }</span><br/><span class="hl-3">// (Theme and data listeners not called)</span><br/><br/><span class="hl-0">unsub</span><span class="hl-1">();</span><br/><span class="hl-0">unsubTheme</span><span class="hl-1">();</span><br/><span class="hl-0">unsubData</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="task" class="tsd-anchor-link"><code>task</code><a href="#task" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Handle async operations gracefully.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">task</span><span class="hl-1">, </span><span class="hl-5">computed</span><span class="hl-1">, </span><span class="hl-5">get</span><span class="hl-1">, </span><span class="hl-5">subscribe</span><span class="hl-1">, </span><span class="hl-5">runTask</span><span class="hl-1">, </span><span class="hl-5">getTaskState</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/zen&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-0">fetchData</span><span class="hl-1"> = </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">userId</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">): </span><span class="hl-10">Promise</span><span class="hl-1">&lt;{ </span><span class="hl-5">id</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">; </span><span class="hl-5">name</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1"> }&gt; </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// Simulate API call</span><br/><span class="hl-1">  </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">(</span><span class="hl-5">r</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-0">setTimeout</span><span class="hl-1">(</span><span class="hl-5">r</span><span class="hl-1">, </span><span class="hl-8">50</span><span class="hl-1">));</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">userId</span><span class="hl-1"> === </span><span class="hl-8">0</span><span class="hl-1">) </span><span class="hl-4">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid ID&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> { </span><span class="hl-5">id:</span><span class="hl-1"> </span><span class="hl-5">userId</span><span class="hl-1">, </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">`User </span><span class="hl-6">${</span><span class="hl-5">userId</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1"> };</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">userTask</span><span class="hl-1"> = </span><span class="hl-0">task</span><span class="hl-1">(</span><span class="hl-5">fetchData</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Use core &#39;get&#39; to read the task state atom</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">userStatus</span><span class="hl-1"> = </span><span class="hl-0">computed</span><span class="hl-1">([</span><span class="hl-5">userTask</span><span class="hl-1">], (</span><span class="hl-5">state</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">state</span><span class="hl-1">.</span><span class="hl-5">loading</span><span class="hl-1">) </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-2">&#39;Loading user...&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">state</span><span class="hl-1">.</span><span class="hl-5">error</span><span class="hl-1">) </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-2">`Error: </span><span class="hl-6">${</span><span class="hl-5">state</span><span class="hl-9">.</span><span class="hl-5">error</span><span class="hl-9">.</span><span class="hl-5">message</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">state</span><span class="hl-1">.</span><span class="hl-5">data</span><span class="hl-1">) </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-2">`User Found: </span><span class="hl-6">${</span><span class="hl-5">state</span><span class="hl-9">.</span><span class="hl-5">data</span><span class="hl-9">.</span><span class="hl-5">name</span><span class="hl-6">}</span><span class="hl-2"> (ID: </span><span class="hl-6">${</span><span class="hl-5">state</span><span class="hl-9">.</span><span class="hl-5">data</span><span class="hl-9">.</span><span class="hl-5">id</span><span class="hl-6">}</span><span class="hl-2">)`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-2">&#39;Enter a user ID&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Use core &#39;subscribe&#39;</span><br/><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">userStatus</span><span class="hl-1">, </span><span class="hl-5">status</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">status</span><span class="hl-1">));</span><br/><span class="hl-3">// Output: Enter a user ID (Initial call)</span><br/><br/><span class="hl-3">// Run the task using runTask</span><br/><span class="hl-0">runTask</span><span class="hl-1">(</span><span class="hl-5">userTask</span><span class="hl-1">, </span><span class="hl-8">123</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">then</span><span class="hl-1">(</span><span class="hl-5">data</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Success:&#39;</span><span class="hl-1">, </span><span class="hl-5">data</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">catch</span><span class="hl-1">(</span><span class="hl-5">err</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Caught Error:&#39;</span><span class="hl-1">, </span><span class="hl-5">err</span><span class="hl-1">));</span><br/><br/><span class="hl-3">// Output: Loading user...</span><br/><span class="hl-3">// (after ~50ms)</span><br/><span class="hl-3">// Output: User Found: User 123 (ID: 123)</span><br/><span class="hl-3">// Output: Success: { id: 123, name: &#39;User 123&#39; }</span><br/><br/><span class="hl-3">// Run with invalid ID</span><br/><span class="hl-0">runTask</span><span class="hl-1">(</span><span class="hl-5">userTask</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">catch</span><span class="hl-1">(</span><span class="hl-5">err</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Caught Error:&#39;</span><span class="hl-1">, </span><span class="hl-5">err</span><span class="hl-1">.</span><span class="hl-5">message</span><span class="hl-1">));</span><br/><br/><span class="hl-3">// Output: Loading user...</span><br/><span class="hl-3">// (after ~50ms)</span><br/><span class="hl-3">// Output: Error: Invalid ID</span><br/><span class="hl-3">// Output: Caught Error: Invalid ID</span><br/><br/><span class="hl-3">// You can also get the current state directly</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">getTaskState</span><span class="hl-1">(</span><span class="hl-5">userTask</span><span class="hl-1">)); </span><span class="hl-3">// Output: { loading: false, error: Error: Invalid ID, data: undefined }</span>
</code><button type="button">Copy</button></pre>

<hr>
<h2 id="advanced-usage-🧐" class="tsd-anchor-link">Advanced Usage 🧐<a href="#advanced-usage-🧐" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="lifecycle-events" class="tsd-anchor-link">Lifecycle Events<a href="#lifecycle-events" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Listen to internal atom events using <code>onStart</code>, <code>onStop</code>, <code>onSet</code>, <code>onNotify</code>, <code>onMount</code>.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">atom</span><span class="hl-1">, </span><span class="hl-5">set</span><span class="hl-1">, </span><span class="hl-5">subscribe</span><span class="hl-1">, </span><span class="hl-5">onStart</span><span class="hl-1">, </span><span class="hl-5">onStop</span><span class="hl-1">, </span><span class="hl-5">onSet</span><span class="hl-1">, </span><span class="hl-5">onNotify</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sylph/zen&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">myAtom</span><span class="hl-1"> = </span><span class="hl-0">atom</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubStart</span><span class="hl-1"> = </span><span class="hl-0">onStart</span><span class="hl-1">(</span><span class="hl-5">myAtom</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;First listener subscribed!&#39;</span><span class="hl-1">));</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubStop</span><span class="hl-1"> = </span><span class="hl-0">onStop</span><span class="hl-1">(</span><span class="hl-5">myAtom</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Last listener unsubscribed!&#39;</span><span class="hl-1">));</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubSet</span><span class="hl-1"> = </span><span class="hl-0">onSet</span><span class="hl-1">(</span><span class="hl-5">myAtom</span><span class="hl-1">, (</span><span class="hl-5">newValue</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Setting value to </span><span class="hl-6">${</span><span class="hl-5">newValue</span><span class="hl-6">}</span><span class="hl-2">...`</span><span class="hl-1">)); </span><span class="hl-3">// Only called outside batch</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsubNotify</span><span class="hl-1"> = </span><span class="hl-0">onNotify</span><span class="hl-1">(</span><span class="hl-5">myAtom</span><span class="hl-1">, (</span><span class="hl-5">newValue</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Notified with value </span><span class="hl-6">${</span><span class="hl-5">newValue</span><span class="hl-6">}</span><span class="hl-2">!`</span><span class="hl-1">));</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">sub1</span><span class="hl-1"> = </span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-5">myAtom</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {});</span><br/><span class="hl-3">// Output: First listener subscribed!</span><br/><span class="hl-3">// Output: Notified with value 0! (Initial subscribe calls listener, which triggers notify)</span><br/><br/><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-5">myAtom</span><span class="hl-1">, </span><span class="hl-8">1</span><span class="hl-1">);</span><br/><span class="hl-3">// Output: Setting value to 1...</span><br/><span class="hl-3">// Output: Notified with value 1!</span><br/><br/><span class="hl-0">sub1</span><span class="hl-1">(); </span><span class="hl-3">// Output: Last listener unsubscribed!</span><br/><br/><span class="hl-0">unsubStart</span><span class="hl-1">();</span><br/><span class="hl-0">unsubStop</span><span class="hl-1">();</span><br/><span class="hl-0">unsubSet</span><span class="hl-1">();</span><br/><span class="hl-0">unsubNotify</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="keypath-listening" class="tsd-anchor-link">Key/Path Listening<a href="#keypath-listening" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Efficiently subscribe to changes in specific parts of <code>map</code> or <code>deepMap</code> atoms using <code>listenMapKeys</code> and <code>listenDeepMapPaths</code>. See <code>map</code> and <code>deepMap</code> examples above.</p>
<hr>
<h2 id="performance-extreme-speed-via-minimalism-🚀" class="tsd-anchor-link">Performance: Extreme Speed via Minimalism 🚀<a href="#performance-extreme-speed-via-minimalism-🚀" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Zen achieves extreme speed by focusing on a minimal, hyper-optimized core. Benchmarks show significant advantages over popular libraries (ops/sec, higher is better):</p>
<p><em>(Results from 2025-04-16, commit <code>1d82136</code>, may vary slightly)</em></p>
<p><strong>Core Atom Operations:</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Benchmark</th>
<th style="text-align:left">Zen (ops/s)</th>
<th style="text-align:left">Nanostores</th>
<th style="text-align:left">Zustand (Vanilla)</th>
<th style="text-align:left">Jotai</th>
<th style="text-align:left">Valtio (Vanilla)</th>
<th style="text-align:left">Effector</th>
<th style="text-align:left">Winner</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>Atom Creation</strong></td>
<td style="text-align:left"><strong>~18.5M</strong></td>
<td style="text-align:left">~2.6M</td>
<td style="text-align:left">~16.7M</td>
<td style="text-align:left">~10.7M</td>
<td style="text-align:left">~0.6M</td>
<td style="text-align:left">~24.7k</td>
<td style="text-align:left">🏆 Zen</td>
</tr>
<tr>
<td style="text-align:left"><strong>Atom Get</strong></td>
<td style="text-align:left">~16.9M</td>
<td style="text-align:left">~12.7M</td>
<td style="text-align:left">~22.4M</td>
<td style="text-align:left">~17.0M</td>
<td style="text-align:left">~18.8M</td>
<td style="text-align:left"><strong>~22.9M</strong></td>
<td style="text-align:left">Effector</td>
</tr>
<tr>
<td style="text-align:left"><strong>Atom Set (No Listeners)</strong></td>
<td style="text-align:left"><strong>~13.7M</strong></td>
<td style="text-align:left">~10.5M</td>
<td style="text-align:left">~9.6M</td>
<td style="text-align:left">~1.6M</td>
<td style="text-align:left">~3.4M</td>
<td style="text-align:left">~3.2M</td>
<td style="text-align:left">🏆 Zen</td>
</tr>
<tr>
<td style="text-align:left"><strong>Subscribe/Unsubscribe</strong></td>
<td style="text-align:left">~1.9M</td>
<td style="text-align:left">~1.8M</td>
<td style="text-align:left"><strong>~7.0M</strong></td>
<td style="text-align:left">~0.12M</td>
<td style="text-align:left">~0.3M</td>
<td style="text-align:left">~26.0k</td>
<td style="text-align:left">Zustand</td>
</tr>
</tbody>
</table>
<p><strong>Computed Operations (1 Dependency):</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Benchmark</th>
<th style="text-align:left">Zen (ops/s)</th>
<th style="text-align:left">Nanostores</th>
<th style="text-align:left">Zustand (Selector)</th>
<th style="text-align:left">Jotai (Hook)</th>
<th style="text-align:left">Valtio (Getter)</th>
<th style="text-align:left">Effector (Derived)</th>
<th style="text-align:left">Winner</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>Computed Creation</strong></td>
<td style="text-align:left"><strong>~22.6M</strong></td>
<td style="text-align:left">~0.4M</td>
<td style="text-align:left">-</td>
<td style="text-align:left">~13.7M</td>
<td style="text-align:left">-</td>
<td style="text-align:left">~6.7k</td>
<td style="text-align:left">🏆 Zen</td>
</tr>
<tr>
<td style="text-align:left"><strong>Computed Get</strong></td>
<td style="text-align:left">~19.5M</td>
<td style="text-align:left">~2.3M</td>
<td style="text-align:left"><strong>~20.4M</strong></td>
<td style="text-align:left">~19.0M</td>
<td style="text-align:left">~17.8M</td>
<td style="text-align:left">~19.7M</td>
<td style="text-align:left">Zustand</td>
</tr>
<tr>
<td style="text-align:left"><strong>Computed Update Prop.</strong></td>
<td style="text-align:left">~8.0M</td>
<td style="text-align:left"><strong>~8.9M</strong></td>
<td style="text-align:left">~8.1M</td>
<td style="text-align:left">~0.2M</td>
<td style="text-align:left">~2.1M</td>
<td style="text-align:left">~0.6M</td>
<td style="text-align:left">Nanostores</td>
</tr>
</tbody>
</table>
<p><strong>Map/DeepMap Operations:</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Benchmark</th>
<th style="text-align:left">Zen (ops/s)</th>
<th style="text-align:left">Nanostores</th>
<th style="text-align:left">Winner</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>Map Creation</strong></td>
<td style="text-align:left"><strong>~13.6M</strong></td>
<td style="text-align:left">~1.4M</td>
<td style="text-align:left">🏆 Zen</td>
</tr>
<tr>
<td style="text-align:left"><strong>Map Get</strong></td>
<td style="text-align:left">~11.3M</td>
<td style="text-align:left"><strong>~14.8M</strong></td>
<td style="text-align:left">Nanostores</td>
</tr>
<tr>
<td style="text-align:left"><strong>Map Set Key</strong></td>
<td style="text-align:left">~7.5M</td>
<td style="text-align:left"><strong>~11.1M</strong></td>
<td style="text-align:left">Nanostores</td>
</tr>
<tr>
<td style="text-align:left"><strong>DeepMap Creation</strong></td>
<td style="text-align:left"><strong>~13.7M</strong></td>
<td style="text-align:left">~2.5M</td>
<td style="text-align:left">🏆 Zen</td>
</tr>
<tr>
<td style="text-align:left"><strong>DeepMap setPath (Shallow)</strong></td>
<td style="text-align:left"><strong>~2.8M</strong></td>
<td style="text-align:left">~1.0M</td>
<td style="text-align:left">🏆 Zen</td>
</tr>
<tr>
<td style="text-align:left"><strong>DeepMap setPath (1 Lvl)</strong></td>
<td style="text-align:left"><strong>~2.0M</strong></td>
<td style="text-align:left">~0.8M</td>
<td style="text-align:left">🏆 Zen</td>
</tr>
<tr>
<td style="text-align:left"><strong>DeepMap setPath (2 Lvl)</strong></td>
<td style="text-align:left"><strong>~2.1M</strong></td>
<td style="text-align:left">~0.7M</td>
<td style="text-align:left">🏆 Zen</td>
</tr>
<tr>
<td style="text-align:left"><strong>DeepMap setPath (Array)</strong></td>
<td style="text-align:left"><strong>~3.9M</strong></td>
<td style="text-align:left">~0.5M</td>
<td style="text-align:left">🏆 Zen</td>
</tr>
<tr>
<td style="text-align:left"><strong>DeepMap setPath (Create)</strong></td>
<td style="text-align:left"><strong>~1.8M</strong></td>
<td style="text-align:left">~0.4M</td>
<td style="text-align:left">🏆 Zen</td>
</tr>
</tbody>
</table>
<p><strong>Key Takeaways:</strong></p>
<ul>
<li>Zen's minimalist design leads to dominant performance in Atom Creation, Atom Set, Computed Creation, and all DeepMap operations.</li>
<li>Highly competitive in Atom Get, Subscribe/Unsubscribe, Computed Get, and Computed Update.</li>
<li>Map operations (Get, Set Key) are areas where Nanostores currently holds an edge.</li>
</ul>
<hr>
<h2 id="size-comparison-🤏" class="tsd-anchor-link">Size Comparison 🤏<a href="#size-comparison-🤏" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Zen's minimalist philosophy results in an incredibly small bundle size.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Library</th>
<th style="text-align:left">Size (Brotli + Gzip)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Jotai (atom)</td>
<td style="text-align:left">170 B</td>
</tr>
<tr>
<td style="text-align:left">Nanostores (atom)</td>
<td style="text-align:left">265 B</td>
</tr>
<tr>
<td style="text-align:left">Zustand (core)</td>
<td style="text-align:left">461 B</td>
</tr>
<tr>
<td style="text-align:left"><strong>Zen (atom only)</strong></td>
<td style="text-align:left"><strong>786 B</strong></td>
</tr>
<tr>
<td style="text-align:left">Valtio</td>
<td style="text-align:left">903 B</td>
</tr>
<tr>
<td style="text-align:left"><strong>Zen (full)</strong></td>
<td style="text-align:left"><strong>1.45 kB</strong></td>
</tr>
<tr>
<td style="text-align:left">Effector</td>
<td style="text-align:left">5.27 kB</td>
</tr>
<tr>
<td style="text-align:left">Redux Toolkit</td>
<td style="text-align:left">6.99 kB</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="current-limitations--issues" class="tsd-anchor-link">Current Limitations &amp; Issues<a href="#current-limitations--issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>TypeScript Guidelines:</strong> We currently cannot automatically verify against specific internal TypeScript style guidelines due to a temporary issue fetching the rules file (<code>guidelines/typescript/style_quality.md</code> from <code>sylphlab/Playbook</code> resulted in a 'Not Found' error). We are proceeding with best practices in the meantime.</li>
<li><strong>Map Performance:</strong> Nanostores shows better performance for Map Get and Map Set Key operations in current benchmarks. Further investigation is optional.</li>
</ul>
<hr>
<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Contributions are welcome! Please open an issue or submit a pull request.</p>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#sylphzen-extreme-minimalism-extreme-speed-🚀"><span>@sylph/zen: <wbr/>Extreme <wbr/>Minimalism, <wbr/>Extreme <wbr/>Speed 🚀</span></a><ul><li><a href="#why-zen-🤔"><span>Why <wbr/>Zen? 🤔</span></a></li><li><a href="#key-features-✨"><span>Key <wbr/>Features ✨</span></a></li><li><a href="#installation-📦"><span>Installation 📦</span></a></li><li><a href="#core-usage-🧑💻"><span>Core <wbr/>Usage 🧑‍💻</span></a></li><li><ul><li><a href="#atom"><span>atom</span></a></li><li><a href="#computed"><span>computed</span></a></li><li><a href="#map"><span>map</span></a></li><li><a href="#deepmap"><span>deep<wbr/>Map</span></a></li><li><a href="#task"><span>task</span></a></li></ul></li><li><a href="#advanced-usage-🧐"><span>Advanced <wbr/>Usage 🧐</span></a></li><li><ul><li><a href="#lifecycle-events"><span>Lifecycle <wbr/>Events</span></a></li><li><a href="#keypath-listening"><span>Key/<wbr/>Path <wbr/>Listening</span></a></li></ul></li><li><a href="#performance-extreme-speed-via-minimalism-🚀"><span>Performance: <wbr/>Extreme <wbr/>Speed via <wbr/>Minimalism 🚀</span></a></li><li><a href="#size-comparison-🤏"><span>Size <wbr/>Comparison 🤏</span></a></li><li><a href="#current-limitations--issues"><span>Current <wbr/>Limitations &amp; <wbr/>Issues</span></a></li><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">Documentation</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
